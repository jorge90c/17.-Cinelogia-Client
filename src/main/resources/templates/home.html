<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es"
      th:replace="~{layout :: layout}">
<body>
<div th:fragment="contenido">

    <div id="carouselPeliculas" class="carousel slide mb-5" data-bs-ride="carousel">
        <div class="carousel-inner">

            <!-- Iterar sobre las películas -->
            <div th:each="pelicula, iterStat : ${peliculas}"
                th:class="'carousel-item' + (${iterStat.index} == 0 ? ' active' : '')">

                <!-- Imagen de portada o placeholder -->
                <a th:href="@{'/peliculas/' + ${pelicula.id}}">
                    <img th:src="${pelicula.imagenPortada != null ? pelicula.imagenPortada : 'https://placehold.co/1200x400?text=SIN_FOTO'}"
                        class="d-block w-100"
                        style="height:400px; object-fit:cover;" 
                        th:alt="${pelicula.titulo}">
                </a>

                <!-- Overlay con título, año y país -->
                <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
                    <h5 th:text="${pelicula.titulo}"></h5>
                    <p>
                        <span th:text="${pelicula.anio}"></span> —
                        <span th:text="${pelicula.pais}"></span>
                    </p>
                </div>
            </div>

        </div>

        <!-- Controles -->
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselPeliculas" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselPeliculas" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>


</div>
</body>
</html>
